<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="/b2plogo.ico" />
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Fika Map</title>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link href="./style.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@200;300;400;500;600;700;800;900&family=Kumbh+Sans:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
</head>

<body>
  
  <div id="map"></div>
  
  <div class="side-bar p-0 m-0" id="side-bar">
    <a href="https://fikamap.com/" target="_blank">
      <img src="/b2plogo.png" class="mx-auto d-block m-2" width="85%" alt="B2P Logo">
    </a>
    <!-- Add a button with <i class="bi bi-info-circle"></i> icon -->
    <div class="d-flex flex-column align-items-center m-0 p-0">
      <div class="m-0 pt-3 pb-1">
        <button class="btn m-0 py-0" id="info-button" style="font-size: 30px; line-height: 20px;">
          <i class="bi bi-info-circle m-0 p-0"></i>
          <p class="text-muted p-0 m-0" style="text-align: center; font-size: x-small;">Info</p>
        </button>
        <hr class="my-0 mx-1">
      </div>
      <div class="m-0 py-1">
        <button class="btn m-0 py-0" id="feedback-button" style="font-size: 30px; line-height: 20px;">
          <i class="bi bi-chat-right-text m-0 p-0"></i>
          <p class="text-muted p-0 m-0" style="text-align: center; font-size: x-small;">Feedback</p>
        </button>
        <hr class="my-0 mx-3">
      </div>
      <div class="m-0 py-1">
        <button class="btn m-0 py-0" id="bridge-need-button" style="font-size: 30px;">
          <i class="bi bi-flag m-0 p-0"></i>
          <p class="text-muted p-0 m-0" style="text-align: center; font-size: x-small;">Report Bridge Need</p>
        </button>
        <hr class="my-0 mx-1">
      </div>
      <div class="m-0 py-1">
        <button class="btn m-0 py-0" id="bug-button" style="font-size: 30px;">
          <i class="bi bi-bug m-0 p-0"></i>
          <p class="text-muted p-0 m-0" style="text-align: center; font-size: x-small;">Report Bug</p>
        </button>
        <hr class="my-0 mx-1">
      </div>
    </div>
  </div>

  <div class="control-panel card-body py-1 px-2" id="control-panel">
    <div class="row">
      <div class="col-md-6">
        <!-- Left half -->
        <div class="d-flex">
          <select class="form-select me-2" name="dropdown1" id="dropdown1">
            <!-- Dropdown 1 options -->
          </select>
          <select class="form-select me-2" name="dropdown2" id="dropdown2">
            <!-- Dropdown 2 options -->
          </select>
          <select class="form-select me-4" name="dropdown3" id="dropdown3">
            <!-- Dropdown 3 options -->
          </select>
          <div class="vr mx-0"></div>
        </div>
      </div>
      <div class="col-md-6 ">
        <div class="d-flex">
          <div class="flex-fill">
            <select class="form-select me-2" name="dropdown4" id="dropdown4" disabled=""></select>
          </div>
          <div class="flex-fill px-2">
            <div class="geocoder" id="geocoder"></div>
          </div>
          <div class="flex-fill px-1" style="text-align: center;">
            <input type="range" style="" class="form-range" name="slider" min="0" max="100" step="5" id="trans-slider">
            <label class="" for="trans-slider"
              style="font-size: 0.7em; display: block; margin-top: -10px; font-style: italic; color: #686868">Transparency</label>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>
  <div class="click-panel card-body px-0 pt-0" id="click-panel">
    <div class="container-fluid bg-light px-1">
      <div class="d-flex align-items-center">
        <button class="btn p-0 m-0" id="close-button">
          <i class="bi bi-x-lg"></i>
        </button>
        <div class="mx-auto mt-2">
          <h5 class="text-center font-weight-bold">Detailed Information</h5>
        </div>
      </div>
    </div>
    <div class="summary-text" id="summary-text"></div>
    <canvas class="click-panel-canvas" id="radar-chart"></canvas>
    <hr class="mt-1  mb-0 mx-4">
    <canvas class="click-panel-canvas" id="bar-chart"></canvas>
    <hr class="mt-1  mb-0 mx-4">
    <canvas class="click-panel-canvas" id="pie-chart"></canvas>
    <hr class="mt-1  mb-0 mx-4">
    <div class="accordion pt-4 px-1" id="all-data-acc">
      <div class="accordion-item " style="background-color: transparent;">
        <h1 class="accordion-header" id="all-data-heading">
          <button class="accordion-button collapsed p-2" type="button" data-bs-toggle="collapse"
            data-bs-target="#all-data-collapse" aria-expanded="false" aria-controls="all-data-collapse">
            All Data
          </button>
        </h1>
        <div id="all-data-collapse" class="accordion-collapse collapse" aria-labelledby="all-data-heading"
          data-bs-parent="#all-data-acc">
          <div class="accordion-body m-0 p-0">
            <table class="table" style="table-layout: fixed; word-wrap: break-word;">
              <thead>
                <tr>
                  <th scope="col" style="width:75%">Category</th>
                  <th scope="col" style="width: 25%">Value</th>
                </tr>
              </thead>
              <tbody id="all-data-table" style="max-width: 408px;">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body" id="words-click"></div>
  </div>
  <div class="hover-panel container" id="hover-panel" style="width: 400px;">
    <div class="row">
      <div class="col-3 px-0 py-1">
        <img src="" class="mx-auto d-block" height=80px alt="..." id="hover-icon">
      </div>
      <div class="col-9" id="hover-text"></div>
    </div>
  </div>
  <div class="modal info-modal" id="info-modal">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"> Welcome to Fika Map</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal-button">
            <span aria-hidden="true"></span>
          </button>
        </div>
        <div class="modal-body">
          <p>Fika Map is a tool that portrays where trail bridges are needed to reduce rural poverty and what impact trail bridges could have on surrounding communities. The data this tool displays is based on rigorous research and modeling; <a href="https://fikamap.com/" target="_blank">we provide more info on these models here</a>.</p>
          <p> You can learn <a href="https://www.bridgestoprosperity.org/" target="_blank"> more about Bridges to Prosperity here.</a></p>
          <p>If you want to learn more about how to use this tool, <a href="https://www.youtube.com/watch?v=iqLxJg1XC1w&ab_channel=BridgestoProsperity" target="_blank">we put together a video tutorial here</a>.</p>

        </div>
      </div>
    </div>
  </div>
  <script type="module" src="/main.js"></script>
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>

</body>

</html>